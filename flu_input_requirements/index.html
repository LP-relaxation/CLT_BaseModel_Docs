
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../flu_model_demo/">
      
      
        <link rel="next" href="../flu_components_walkthrough/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Flu Model Input Requirements - CLT Base Model</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flu-model-input-requirements" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CLT Base Model" class="md-header__button md-logo" aria-label="CLT Base Model" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CLT Base Model
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flu Model Input Requirements
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CLT Base Model" class="md-nav__button md-logo" aria-label="CLT Base Model" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CLT Base Model
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python for Modelers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python for Modelers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Resources for Modelers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mathematical Formulation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Mathematical Formulation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_flu_components/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flu Model Mathematical Formulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../math_transitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stochastic Transitions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Flu Model Code Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Flu Model Code Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flu_model_code_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flu Model Code Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flu_model_demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flu Model Demo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Flu Model Input Requirements
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Flu Model Input Requirements
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demographics-and-initial-values-of-state-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Demographics and initial values of state variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulation-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact-matrix-and-school-work-calendar-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Contact matrix and school-work calendar CSV
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#travel-models-travel-proportions-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Travel model's travel proportions CSV
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flu_components_walkthrough/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flu Model Creation Walkthrough
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Code API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Code API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clt_base_package_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLT Base Package Code API Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../flu_components_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flu Components Code API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#demographics-and-initial-values-of-state-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Demographics and initial values of state variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#simulation-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Simulation configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixed-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Fixed parameters
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contact-matrix-and-school-work-calendar-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Contact matrix and school-work calendar CSV
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#travel-models-travel-proportions-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Travel model's travel proportions CSV
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="flu-model-input-requirements">Flu Model Input Requirements</h1>
<p><span style="display: none;">
<span class="arithmatex">\(\def\rateRtoS{\sigma^{R\rightarrow S}}\)</span>
<span class="arithmatex">\(\def\rateEtoI{\sigma^{E \rightarrow [IP, IA]}}\)</span>
<span class="arithmatex">\(\def\rateIPtoIS{\sigma^{IP \rightarrow IS}}\)</span>
<span class="arithmatex">\(\def\rateIStoH{\sigma^{IS\rightarrow H}}\)</span>
<span class="arithmatex">\(\def\rateHtoD{\sigma^{H\rightarrow D}}\)</span>
<span class="arithmatex">\(\def\rateIAtoR{\gamma^{IA\rightarrow R}}\)</span>
<span class="arithmatex">\(\def\rateHtoR{\gamma^{H\rightarrow R}}\)</span>
<span class="arithmatex">\(\def\rateIStoR{\gamma^{IS\rightarrow R}}\)</span>
<span class="arithmatex">\(\def\totalforceofinfection{\lambda^{(\ell), \text{total}}_{a,r}(t)}\)</span>
<span class="arithmatex">\(\def\propIA{\pi^{IA}}\)</span>
<span class="arithmatex">\(\def\propH{\pi^H}\)</span>
<span class="arithmatex">\(\def\propD{\pi^D}\)</span>
<span class="arithmatex">\(\def\adjustedpropH{\tilde{\pi}^H}\)</span>
<span class="arithmatex">\(\def\adjustedpropD{\tilde{\pi}^D}\)</span>
</span></p>
<blockquote>
<p><strong><em>Written by LP, updated 01/24/2025 (work in progress)</em></strong> </p>
<p><strong><em>Important note: we are updating this page with wastewater inputs -- check back soon.</em></strong></p>
</blockquote>
<p>Here, we document input requirements for creating a <code>FluSubpopModel</code> instance and a <code>FluMetapopModel</code> instance, as well as provide mappings between the input variable names in the <a href="../flu_components_reference/">code</a> and the mathematical variables in the <a href="../math_flu_components/">mathematical formulation</a>. For users to customize the <em>values</em> (not the structure) of the flu model given in <code>flu_components.py</code>, they must abide by certain input specifications.</p>
<p>Recall that the class <code>FluSubpopModel</code> simulates the flu model given by <a href="../math_flu_components/">this mathematical formulation</a> for a specific subpopulation. Multiple <code>FluSubpopModel</code> instances can be combined as input into a <code>FluMetapopModel</code> instance to simulate multiple subpopulations and travel between these subpopulations. </p>
<p>Each <code>FluSubpopModel</code> instance requires user-specified inputs for demographics and initial values of compartments and epi metrics, values of fixed parameters, experiment configuration details, and a school-work calendar. Each <code>FluMetapopModel</code> instance requires data for pairwise travel proportions (the proportion of people in subpopulation <span class="arithmatex">\(\ell\)</span> who travel to a different subpopulation <span class="arithmatex">\(k\)</span>.) Depending on the type of input, these inputs may be read from <code>JSON</code> or <code>CSV</code> files, or defined directly in code as a <code>dict</code> or <code>pd.DataFrame</code>.</p>
<p>As a concrete example, we refer the user to <code>flu_demo.py</code> and its input folder <code>flu_demo_input_files</code>. The demo model has two subpopulations with the exact same inputs. The folder contains 3 <code>JSON</code> input files used to run <code>flu_demo.py</code>: <code>compartments_epi_metrics_init_vals.json</code>, <code>fixed_params.json</code>, and <code>config.json</code>. These input files respectively are used to initialize a <code>FluSubpopState</code> instance, <code>FluSubpopParams</code> instance, and <code>Config</code> instance. The folder also contains a file <code>school_work_calendar.csv</code> that provides necessary calendar data (indicating if a date is a school or work day). In general, for an arbitrary number of subpopulations with different inputs, the user should have 4 input files per <code>FluSubpopModel</code> instance (3 are the aforementioned <code>JSON</code> files and 1 is the aforementioned <code>CSV</code> file). The folder also contains a file <code>travel_proportions.csv</code> that provides pairwise travel proportions between subpopulations. This is used for travel computations in the <code>FluMetapopModel</code> instance that contains the subpopulations.</p>
<p>In the following sections we discuss the input requirements for: for demographics and initial values of compartments and epi metrics (for each <code>FluSubpopModel</code>), values of fixed parameters (for each <code>FluSubpopModel</code>), experiment configuration details (for each <code>FluSubpopModel</code>), school-work calendars (for each <code>FluSubpopModel</code>), and travel proportions (for each <code>FluMetapopModel</code>).</p>
<h2 id="demographics-and-initial-values-of-state-variables">Demographics and initial values of state variables</h2>
<p>The table below has a variable name to math variable mapping for the <code>JSON</code> file used to initialize <code>FluSubpopState</code> instances. This file specifies initial conditions for <code>StateVariable</code> objects (which includes <code>Compartment</code>, <code>EpiMetric</code>, <code>Schedule</code>, and <code>DynamicVal</code> objects). </p>
<p>Important notes:</p>
<ul>
<li>
<p><code>Schedule</code> instances get their values deterministically updated according to a schedule. At every simulation day <code>t</code>, their values are well-defined (taken from a schedule calendar), regardless of the initial value. Therefore, the initial value does not matter, so they are excluded from inputs. However, these objects are indeed updated and used in the simulation. Similar logic applies to <code>DynamicVal</code> instances.</p>
</li>
<li>
<p>Currently, <code>beta_reduct</code> is not a part of the <a href="../math_flu_components/">mathematical formulation</a>. In the code, <code>beta_reduct</code> is a <code>DynamicVal</code> that decreases <code>beta_baseline</code> when a certain simulation state is triggered. This emulates a very simple staged-alert policy. In <code>flu_components.py</code>, <code>beta_reduct</code> is automatically disabled, so that the simple staged-alert policy is not in effect during default flu model runs. When enabled, <code>beta_reduct</code> has a value of <code>0.5</code> (corresponding to a <span class="arithmatex">\(50\%\)</span> decrease in transmission rates) when more than <span class="arithmatex">\(5\%\)</span> of the population is infected, and it has a value of <code>0.0</code> otherwise. Again, these values are "toy" values for the sake of demonstration.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Name</th>
<th>Math Variable</th>
<th>Dimension</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>S</code></td>
<td><span class="arithmatex">\(\boldsymbol{S}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>E</code></td>
<td><span class="arithmatex">\(\boldsymbol{E}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>IP</code></td>
<td><span class="arithmatex">\(\boldsymbol{I^P}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>IS</code></td>
<td><span class="arithmatex">\(\boldsymbol{I^S}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>IA</code></td>
<td><span class="arithmatex">\(\boldsymbol{I^A}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>H</code></td>
<td><span class="arithmatex">\(\boldsymbol{H}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>R</code></td>
<td><span class="arithmatex">\(\boldsymbol{R}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>D</code></td>
<td><span class="arithmatex">\(\boldsymbol{D}(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>population_immunity_inf</code></td>
<td><span class="arithmatex">\(\boldsymbol{M}^I(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>population_immunity_hosp</code></td>
<td><span class="arithmatex">\(\boldsymbol{M}^H(0)\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
</tbody>
</table>
<h2 id="simulation-configuration">Simulation configuration</h2>
<p>The table below describes the <code>JSON</code> file used to initialize <code>Config</code> instances. These values specify the simulation experiment configuration. </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Explanation</th>
<th>Format</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>timesteps_per_day</code></td>
<td>number of discretized timesteps per day -- larger values may increase accuracy of approximation to continuous time but slow down simulation</td>
<td>positive <code>int</code></td>
</tr>
<tr>
<td><code>transition_type</code></td>
<td>specifies distribution of stochastic or deterministic population transitions between compartments -- see <a href="../math_flu_components/">mathematical definition of transition types</a> for specific formulas</td>
<td><code>str</code>, must have value in <code>TransitionTypes</code> to be valid</td>
</tr>
<tr>
<td><code>start_real_date</code></td>
<td>real-world date corresponding to start of simulation</td>
<td><code>str</code>, must have format <code>"YYYY-MM-DD"</code></td>
</tr>
<tr>
<td><code>save_daily_history</code></td>
<td>indicates if daily history is saved on <code>Compartment</code> instances -- may want to strategically turn off to save time during performance runs</td>
<td><code>bool</code></td>
</tr>
</tbody>
</table>
<h2 id="fixed-parameters">Fixed parameters</h2>
<p>The table below has a variable name to math variable mapping for the <code>JSON</code> file used to initialize <code>FluSubpopParams</code> instances. We can think of this file as the "Greek letter file" -- it specifies values such as transition rates as well as number of age groups and risk groups. We assume that these values do not change throughout the course of the simulation.  </p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Math Variable</th>
<th>Dimension</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>num_age_groups</code></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert\)</span></td>
<td>positive <code>int</code></td>
</tr>
<tr>
<td><code>num_risk_groups</code></td>
<td><span class="arithmatex">\(\lvert \mathcal R \rvert\)</span></td>
<td>positive <code>int</code></td>
</tr>
<tr>
<td><code>beta_baseline</code></td>
<td><span class="arithmatex">\(\beta_0\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>total_pop_age_risk</code></td>
<td><span class="arithmatex">\(\boldsymbol{N}\)</span></td>
<td><span class="arithmatex">\(\boldsymbol{\tilde{\nu}}\)</span></td>
</tr>
<tr>
<td><code>humidity_impact</code></td>
<td><span class="arithmatex">\(\xi\)</span></td>
<td>scalar</td>
</tr>
<tr>
<td><code>hosp_immune_gain</code></td>
<td><span class="arithmatex">\(g^H\)</span></td>
<td>scalar</td>
</tr>
<tr>
<td><code>inf_immune_gain</code></td>
<td><span class="arithmatex">\(g^I\)</span></td>
<td>scalar</td>
</tr>
<tr>
<td><code>immune_saturation</code></td>
<td><span class="arithmatex">\(\boldsymbol{O}\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>hosp_immune_wane</code></td>
<td><span class="arithmatex">\(w^H\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>inf_immune_wane</code></td>
<td><span class="arithmatex">\(w^I\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>hosp_risk_reduce</code></td>
<td><span class="arithmatex">\(\boldsymbol{K}^H\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>inf_risk_reduce</code></td>
<td><span class="arithmatex">\(\boldsymbol{K}^I\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>death_risk_reduce</code></td>
<td><span class="arithmatex">\(\boldsymbol{K}^D\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>R_to_S_rate</code></td>
<td><span class="arithmatex">\(\rateRtoS\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>E_to_I_rate</code></td>
<td><span class="arithmatex">\(\rateEtoI\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>IP_to_IS_rate</code></td>
<td><span class="arithmatex">\(\rateIPtoIS\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>IS_to_R_rate</code></td>
<td><span class="arithmatex">\(\rateIStoR\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>IA_to_R_rate</code></td>
<td><span class="arithmatex">\(\rateIAtoR\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>IS_to_H_rate</code></td>
<td><span class="arithmatex">\(\rateIStoH\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>H_to_R_rate</code></td>
<td><span class="arithmatex">\(\rateHtoR\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>H_to_D_rate</code></td>
<td><span class="arithmatex">\(\rateHtoD\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>E_to_IA_prop</code></td>
<td><span class="arithmatex">\(\propIA\)</span></td>
<td>scalar in <span class="arithmatex">\([0,1]\)</span></td>
</tr>
<tr>
<td><code>H_to_D_adjusted_prop</code></td>
<td><span class="arithmatex">\(\boldsymbol{\adjustedpropD}\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>IS_to_H_adjusted_prop</code></td>
<td><span class="arithmatex">\(\boldsymbol{\adjustedpropH}\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert \mathcal R \rvert\)</span></td>
</tr>
<tr>
<td><code>IP_relative_inf</code></td>
<td><span class="arithmatex">\(r_{IP}\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>IA_relative_inf</code></td>
<td><span class="arithmatex">\(r_{IA}\)</span></td>
<td>positive scalar</td>
</tr>
<tr>
<td><code>relative_suscept_by_age</code></td>
<td><span class="arithmatex">\(\psi\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times 1\)</span></td>
</tr>
<tr>
<td><code>prop_time_away_by_age</code></td>
<td><span class="arithmatex">\(c\)</span></td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times 1\)</span></td>
</tr>
<tr>
<td><code>contact_mult_travel</code></td>
<td><span class="arithmatex">\(h_{\text{travel}}\)</span></td>
<td>scalar</td>
</tr>
<tr>
<td><code>contact_mult_symp</code></td>
<td><span class="arithmatex">\(h_{\text{symp}}\)</span></td>
<td>scalar</td>
</tr>
<tr>
<td><code>total_contact_matrix</code></td>
<td>see contact matrix below</td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert A \rvert\)</span></td>
</tr>
<tr>
<td><code>school_contact_matrix</code></td>
<td>see contact matrix below</td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert A \rvert\)</span></td>
</tr>
<tr>
<td><code>work_contact_matrix</code></td>
<td>see contact matrix below</td>
<td><span class="arithmatex">\(\lvert \mathcal A \rvert \times \lvert A \rvert\)</span></td>
</tr>
</tbody>
</table>
<h2 id="contact-matrix-and-school-work-calendar-csv">Contact matrix and school-work calendar CSV</h2>
<p>Let <span class="arithmatex">\(\phi^{(\ell), \text{total}}\)</span>, <span class="arithmatex">\(\phi^{(\ell), \text{work}}\)</span>, and <span class="arithmatex">\(\phi^{(\ell), \text{school}}\)</span> represent the <code>total_contact_matrix</code>, <code>school_contact_matrix</code>, and <code>work_contact_matrix</code> respectively for subpopulation <span class="arithmatex">\(\ell\)</span>.</p>
<p>The school-work calendar CSV must have 3 columns with names: <code>"date"</code>, <code>"is_school_day"</code>, and <code>"is_work_day"</code>. The <code>"date"</code> column contains strings corresponding to dates, in the format <code>"YYYY-MM-DD"</code>. The other two columns are Booleans indicating if the real-world date is a school day or work day. </p>
<p>Then the contact matrix for the subpopulation at time <span class="arithmatex">\(t\)</span> is
$$
\phi^{(\ell)}(t) := \phi^{(\ell), \text{total}} - d_{\text{work}}(t) \phi^{(\ell), \text{work}} - d_{\text{school}}(t) \phi^{(\ell), \text{school}}
$$
where <span class="arithmatex">\(d_{\text{work}}(t)\)</span> is <span class="arithmatex">\(1\)</span> if the real-world date corresponding to simulation time <span class="arithmatex">\(t\)</span> is a work day and <span class="arithmatex">\(0\)</span> otherwise, specified by the school-work calendar input CSV, and <span class="arithmatex">\(d_{\text{school}}(t)\)</span> is defined analogously, but for school days.</p>
<h2 id="travel-models-travel-proportions-csv">Travel model's travel proportions CSV</h2>
<p>The travel proportions CSV must have the following specifications (see excerpt from <code>InterSubpopRepo</code> docstring):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="sd">    travel_proportions (pd.DataFrame):</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="sd">        DataFrame with specific structure that identifies</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="sd">        traveling proportions. One column is named &quot;subpop_name&quot;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="sd">        and has strings corresponding to SubpopModel names</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="sd">        (strings must match). For each string in &quot;subpop_name&quot; column,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="sd">        there is another column with the same name as that string.</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="sd">        Other values in the DataFrame are floats in [0,1] corresponding</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="sd">        to proportion of people in subpop i who travel to subpop j. Subpop i</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="sd">        is given by row position in &quot;subpop_name&quot; column, and subpop j is</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="sd">        given by column position and corresponding name of that column.</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="sd">        Example valid DataFrame (corresponding to MetapopModel with</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="sd">        two SubpopModels, one named &quot;north&quot; and one named &quot;south&quot;):</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="sd">            subpop_name,north,south</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="sd">            &quot;north&quot;,0.1,0.2</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="sd">            &quot;south&quot;,0.8,0.1</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="sd">&quot;&quot;&quot;</span>
</span></code></pre></div>
<p>The table created by the travel proportions CSV corresponds to the mathematical variable <span class="arithmatex">\(v^{\ell\rightarrow k}\)</span> for subpopulations <span class="arithmatex">\(\ell, k \in \mathcal L\)</span>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>